import { useGSAP } from '@gsap/react';
import React, { useRef } from 'react';
import "./Intro.scss";
import { animateArrow } from './Intro.utils';

const Intro = ({ progress, timeline }) => {
    const arrow = useRef()
    const final = useRef();
    useGSAP(() => {
        if (timeline) {
            timeline.fromTo("#one", {
                x: 100,
                y: -100,
                opacity: 0,
            }, {
                y: 20,
                x: 100,
                opacity: 1,
                ease: "expo.inOut",
            })
            timeline.fromTo("#one", {
                x: 100,
            }, {
                x: 0,
                ease: "expo.inOut",
            })
            timeline.from("#two", {
                morphSVG: "#one",
                ease: "expo.inOut",
                duration: 1,
                opacity: 0,
            })
            timeline.fromTo("#one", {
                y: 20,
                ease: "expo.inOut",
                duration: 1,
            }, {
                y: 0,
            }, "-=0.6")
            timeline.from("#tyche > path", {
                x: -100,
                stagger: 0.05,
                opacity: 0,
            })
            timeline.from("#e > path", {
                x: -400,
                stagger: 0.05,
            })
            timeline.add(animateArrow(final, arrow, timeline.totalDuration()), 0)
            timeline.addPause("+=1", () => {
                timeline.play();
                timeline.to(["#arrow_line", "#text", "#logo"], {
                    opacity: 0,
                    duration: 0.6,
                })
            });
        }

    }, { dependencies: [timeline] })

    return (
        <div className="intro">
            <svg id="arrow_line" xmlns="http://www.w3.org/2000/svg" width="369" height="106" viewBox="0 0 375 110" fill="none">
                <path strokeDasharray="8 , 8" mask='url(#mask)' d="M1 59.4994C180.5 187 267 1.00028 153 1.00006C77 1.00006 95.5 168 368 34.4998" stroke="#49FE9F" strokeWidth="2" />
                <mask id="mask">
                    <path ref={final} strokeDasharray="8 , 8" d="M1 59.4994C180.5 187 267 1.00028 153 1.00006C77 1.00006 95.5 168 368 34.4998" stroke="#49FE9F" strokeWidth="2" />
                </mask>
                <path ref={arrow} xmlns="http://www.w3.org/2000/svg" d="M1.20159 0.219249L10.8492 6.49798L0.467458 11.7392L1.20159 0.219249Z" fill="#49FE9F" />
            </svg>
            <svg id="logo" xmlns="http://www.w3.org/2000/svg" width="100" height="60" viewBox="0 0 200 60" fill="none">
                <path id="one" d="M52.6145 11.9945C47.0773 11.9945 41.5678 11.9946 36.0013 11.9171C34.4752 11.8674 33.0047 12.4842 31.9712 13.6084C30.6117 14.9547 29.245 16.3141 27.9835 17.7511C27.2014 18.6457 26.6664 18.6311 25.8697 17.7511C24.5132 16.1592 23.0441 14.6667 21.4741 13.2838C20.559 12.5281 19.4305 12.0779 18.248 11.9945C12.5338 11.8674 6.81972 11.9375 0.9375 11.6627C1.61431 11.192 2.32036 10.7637 3.05125 10.3807C8.34292 7.94979 13.6199 5.56123 18.9525 3.1449C20.3953 2.53241 21.806 1.8483 23.18 1.09402C25.3639 -0.29614 28.1355 -0.366306 30.3881 0.911295C36.1095 3.77932 41.9567 6.40614 47.7614 9.11191C48.9732 9.67616 50.2348 10.1337 51.4539 10.6906C51.9436 10.9421 52.4143 11.2257 52.863 11.5429L52.616 11.9931L52.6145 11.9945Z" fill="url(#paint0_linear_112_1451)" />
                <path id="two" d="M0 27.1279H17.0283C18.0706 27.1279 18.7825 27.2405 18.7752 28.6292C18.7752 38.6059 18.7752 48.5811 18.8249 58.5651C18.7474 58.856 18.6436 59.1396 18.515 59.41L0 27.1279ZM53.6504 27.4934L35.5155 59.0489L35.1428 58.894V55.8579C35.1428 46.805 35.1428 37.758 35.1004 28.7125C35.1004 27.7185 35.2349 27.1279 36.3546 27.1338H52.6433C52.9912 27.2156 53.3303 27.3355 53.6504 27.4934Z" fill="url(#paint1_linear_112_1451)" />
                <defs>
                    <linearGradient id="paint0_linear_112_1451" x1="27.1605" y1="0.304654" x2="25.7878" y2="59.678" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#90732E" />
                        <stop offset="0.47" stopColor="#F9DC9C" />
                        <stop offset="0.54" stopColor="#F0D393" />
                        <stop offset="0.66" stopColor="#DABD7B" />
                        <stop offset="0.82" stopColor="#B79953" />
                        <stop offset="0.99" stopColor="#85671E" />
                        <stop offset="1" stopColor="#83651B" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_112_1451" x1="27.4494" y1="0.310003" x2="26.0768" y2="59.6848" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#90732E" />
                        <stop offset="0.47" stopColor="#F9DC9C" />
                        <stop offset="0.54" stopColor="#F0D393" />
                        <stop offset="0.66" stopColor="#DABD7B" />
                        <stop offset="0.82" stopColor="#B79953" />
                        <stop offset="0.99" stopColor="#85671E" />
                        <stop offset="1" stopColor="#83651B" />
                    </linearGradient>
                </defs>
            </svg>
            <svg id="text" xmlns="http://www.w3.org/2000/svg" width="208" height="39" viewBox="0 0 208 39" fill="none">
                <g id="tyche">
                    <path id="t" d="M1.87622 0.414551H34.3432C34.8034 0.414551 35.1952 0.575524 35.5186 0.89564C35.8642 1.23954 36.0379 1.63831 36.0379 2.09379C36.0379 2.55658 35.866 2.94804 35.5186 3.26815C35.1952 3.58095 34.8034 3.73827 34.3432 3.73827H20.4716V36.8931C20.4716 37.3559 20.3089 37.7547 19.9855 38.0913C19.6455 38.4114 19.2426 38.5724 18.775 38.5724C18.3075 38.5724 17.912 38.4114 17.5886 38.0913C17.2504 37.7547 17.0804 37.3559 17.0804 36.8931V3.73827H1.87622C1.41605 3.73827 1.01317 3.58095 0.665733 3.26815C0.342319 2.94804 0.179688 2.55658 0.179688 2.09379C0.179688 1.63831 0.342319 1.23954 0.665733 0.89564C1.01317 0.575524 1.41605 0.414551 1.87622 0.414551Z" fill="url(#paint0_linear_112_1444)" />
                    <path id="y" d="M76.1433 0.895396C76.4667 0.57528 76.8622 0.414307 77.3298 0.414307H77.3335C77.7936 0.414307 78.1854 0.57528 78.5088 0.895396C78.8544 1.23929 79.0282 1.63806 79.0282 2.09354V14.1445C79.0282 16.0854 78.3296 17.7335 76.9361 19.0908C75.5427 20.4719 73.8646 21.1615 71.9057 21.1615H62.7947V36.8929C62.7947 37.3557 62.6228 37.7545 62.2753 38.091C61.9593 38.4112 61.5675 38.5721 61.1 38.5721C60.6324 38.5721 60.2295 38.4112 59.8895 38.091C59.5661 37.7545 59.4034 37.3557 59.4034 36.8929V21.1615H50.2924C48.3335 21.1615 46.6554 20.47 45.2619 19.0908C43.8666 17.7335 43.1699 16.0835 43.1699 14.1445V2.09354C43.1699 1.63806 43.3326 1.23929 43.656 0.895396C44.0034 0.57528 44.4063 0.414307 44.8665 0.414307C45.334 0.414307 45.7295 0.57528 46.0529 0.895396C46.3911 1.23929 46.5611 1.63806 46.5611 2.09354V14.1445C46.5611 15.1652 46.9252 16.036 47.6571 16.7512C48.3797 17.4664 49.2575 17.825 50.2906 17.825H71.9057C72.9369 17.825 73.8166 17.4664 74.5392 16.7512C75.2692 16.036 75.6351 15.1671 75.6351 14.1445V2.09354C75.6351 1.63806 75.8033 1.23929 76.1433 0.895396Z" fill="url(#paint1_linear_112_1444)" />
                    <path id="c" d="M93.2836 38.5702H120.325V38.5684C120.785 38.5684 121.177 38.4074 121.5 38.0873C121.846 37.7507 122.019 37.3519 122.019 36.8891C122.019 36.4263 121.847 36.0385 121.5 35.7257C121.177 35.3837 120.785 35.2117 120.325 35.2117H93.2836C92.2524 35.2117 91.3727 34.8532 90.6501 34.138C89.9201 33.4154 89.5542 32.5465 89.5542 31.5313V7.42929C89.5542 6.4287 89.9183 5.57079 90.6501 4.85556C91.3727 4.10923 92.2505 3.73607 93.2836 3.73607H120.325C120.785 3.73607 121.177 3.57875 121.5 3.26595C121.846 2.94584 122.019 2.55439 122.019 2.09159C122.019 1.63611 121.847 1.23734 121.5 0.893443C121.177 0.573327 120.785 0.412354 120.325 0.412354H93.2836C91.3246 0.412354 89.6466 1.10381 88.2531 2.48305C86.8579 3.84034 86.1611 5.4903 86.1611 7.42929V31.5313C86.1611 33.463 86.8597 35.1202 88.2531 36.4995C89.6466 37.8806 91.3246 38.5702 93.2836 38.5702Z" fill="url(#paint2_linear_112_1444)" />
                    <path id="h" d="M162.127 0.895396C162.45 0.57528 162.846 0.414307 163.314 0.414307C163.774 0.414307 164.166 0.57528 164.489 0.895396C164.835 1.23929 165.008 1.63806 165.008 2.09354V36.8929C165.008 37.3557 164.836 37.7545 164.489 38.091C164.166 38.4112 163.774 38.5721 163.314 38.5721C162.846 38.5721 162.45 38.4112 162.127 38.091C161.789 37.7545 161.619 37.3557 161.619 36.8929V21.1615H132.543V36.8929C132.543 37.3557 132.375 37.7545 132.035 38.091C131.711 38.4112 131.316 38.5721 130.848 38.5721C130.388 38.5721 129.985 38.4112 129.638 38.091C129.314 37.7545 129.152 37.3557 129.152 36.8929V2.09354C129.152 1.63806 129.314 1.23929 129.638 0.895396C129.985 0.57528 130.388 0.414307 130.848 0.414307C131.316 0.414307 131.711 0.57528 132.035 0.895396C132.373 1.23929 132.543 1.63806 132.543 2.09354V17.825H161.619V2.09354C161.619 1.63806 161.787 1.23929 162.127 0.895396Z" fill="url(#paint3_linear_112_1444)" />
                    <g id="e">
                        <path d="M173.838 35.2136H206.305C206.765 35.2136 207.157 35.3838 207.48 35.7277C207.826 36.0405 207.999 36.4283 207.999 36.8911C207.999 37.3539 207.827 37.7526 207.48 38.0892C207.157 38.4093 206.765 38.5703 206.305 38.5703H173.838C173.377 38.5703 172.975 38.4093 172.627 38.0892C172.304 37.7526 172.141 37.3539 172.141 36.8911C172.141 36.4283 172.304 36.0405 172.627 35.7277C172.975 35.3856 173.377 35.2136 173.838 35.2136Z" fill="url(#paint4_linear_112_1444)" />
                        <path d="M206.305 3.73802H173.838C173.377 3.73802 172.975 3.58071 172.627 3.26791C172.304 2.94779 172.141 2.55634 172.141 2.09354C172.141 1.63806 172.304 1.23929 172.627 0.895396C172.975 0.57528 173.377 0.414307 173.838 0.414307H206.305C206.765 0.414307 207.157 0.57528 207.48 0.895396C207.826 1.23929 207.999 1.63806 207.999 2.09354C207.999 2.55634 207.827 2.94779 207.48 3.26791C207.157 3.58071 206.765 3.73802 206.305 3.73802Z" fill="url(#paint5_linear_112_1444)" />
                        <path d="M173.838 17.825H206.305C206.765 17.825 207.157 17.9859 207.48 18.306C207.826 18.6262 207.999 19.0176 207.999 19.4804C207.999 19.9578 207.827 20.3584 207.48 20.6786C207.157 20.9987 206.765 21.1596 206.305 21.1596H173.838C173.377 21.1596 172.975 20.9987 172.627 20.6786C172.304 20.3566 172.141 19.9578 172.141 19.4804C172.141 19.0176 172.304 18.6262 172.627 18.306C172.975 17.9859 173.377 17.825 173.838 17.825Z" fill="url(#paint6_linear_112_1444)" />
                    </g>
                </g>
                <defs>
                    <linearGradient id="paint0_linear_112_1444" x1="10.5807" y1="-2.36772" x2="191.477" y2="39.0887" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_112_1444" x1="12.8708" y1="-2.36796" x2="193.768" y2="39.0885" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint2_linear_112_1444" x1="15.1691" y1="-2.36809" x2="196.066" y2="39.0884" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint3_linear_112_1444" x1="17.4614" y1="-2.36796" x2="198.358" y2="39.0885" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint4_linear_112_1444" x1="19.7561" y1="-2.36796" x2="200.653" y2="39.0885" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint5_linear_112_1444" x1="19.7561" y1="-2.36796" x2="200.653" y2="39.0885" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                    <linearGradient id="paint6_linear_112_1444" x1="19.7561" y1="-2.36796" x2="200.653" y2="39.0885" gradientUnits="userSpaceOnUse">
                        <stop stopColor="#E6EB55" />
                        <stop offset="1" stopColor="#01834E" />
                    </linearGradient>
                </defs>
            </svg>
        </div>
    )
}

export default Intro
